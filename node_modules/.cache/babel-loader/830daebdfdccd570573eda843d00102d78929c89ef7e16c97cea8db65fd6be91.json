{"ast":null,"code":"import React,{Component}from'react';import Navigation from'./components/Navigation/Navigation';import FaceRecognition from'./components/FaceRecognition/FaceRecognition';import Logo from'./components/Logo/Logo';import ImageLinkForm from'./components/ImangeLinkForm/ImageLinkForm';import Rank from'./components/Rank/Rank';import'./App.css';import ParticlesBg from'particles-bg';import Signin from'./components/Signin/Signin';import Register from'./components/Register/Register';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const initialState={input:\"\",imageUrl:\"\",box:{},route:\"signin\",isSignedIn:false,user:{id:\"\",name:\"\",email:\"\",entries:0,joined:\"\"}};class App extends Component{constructor(){super();this.calculateFaceLocation=data=>{const clarifaiFace=data.outputs[0].data.regions[0].region_info.bounding_box;console.log(clarifaiFace);const image=document.getElementById(\"inputimage\");const width=Number(image.width);const height=Number(image.height);return{leftCol:clarifaiFace.left_col*width,topRow:clarifaiFace.top_row*height,rightCol:width-clarifaiFace.right_col*width,bottomRow:height-clarifaiFace.bottom_row*height};};this.dispayFaceBox=box=>{this.setState({box:box});};this.loadUser=user=>{this.setState({user:{id:user.id,name:user.name,email:user.email,entries:user.entries,joined:user.joined},imageUrl:\"\"});};this.onInputChange=event=>{this.setState({input:event.target.value});};this.onButtonSubmit=()=>{this.setState({imageUrl:this.state.input});fetch('https://smart-brain-api-329v.onrender.com/imageurl',{method:'post',headers:{'Content-Type':'application/json'},body:JSON.stringify({input:this.state.input})}).then(response=>response.json()).then(response=>{if(response){fetch('https://smart-brain-api-329v.onrender.com/image',{method:'put',headers:{'Content-Type':'application/json'},body:JSON.stringify({id:this.state.user.id})}).then(response=>response.json()).then(count=>{this.setState(Object.assign(this.state.user,{entries:count}));}).catch(console.log);}this.dispayFaceBox(this.calculateFaceLocation(response));}).catch(error=>console.log('error',error));};this.onRouteChange=route=>{if(route===\"signout\"){this.setState(initialState);}else if(route===\"home\"){this.setState({isSignedIn:true});}this.setState({route:route});};this.state=initialState;}render(){const{isSignedIn,imageUrl,route,box}=this.state;return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(ParticlesBg,{className:\"particles\",color:\"#ffffff\",num:120,type:\"cobweb\",bg:true}),/*#__PURE__*/_jsx(Navigation,{isSignedIn:isSignedIn,onRouteChange:this.onRouteChange}),route===\"home\"?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Logo,{}),/*#__PURE__*/_jsx(Rank,{name:this.state.user.name,entries:this.state.user.entries}),/*#__PURE__*/_jsx(ImageLinkForm,{onInputChange:this.onInputChange,onButtonSubmit:this.onButtonSubmit}),/*#__PURE__*/_jsx(FaceRecognition,{box:box,imageUrl:imageUrl})]}):route===\"signin\"?/*#__PURE__*/_jsx(Signin,{onRouteChange:this.onRouteChange,loadUser:this.loadUser}):/*#__PURE__*/_jsx(Register,{loadUser:this.loadUser,onRouteChange:this.onRouteChange})]});}}export default App;","map":{"version":3,"names":["React","Component","Navigation","FaceRecognition","Logo","ImageLinkForm","Rank","ParticlesBg","Signin","Register","jsx","_jsx","jsxs","_jsxs","initialState","input","imageUrl","box","route","isSignedIn","user","id","name","email","entries","joined","App","constructor","calculateFaceLocation","data","clarifaiFace","outputs","regions","region_info","bounding_box","console","log","image","document","getElementById","width","Number","height","leftCol","left_col","topRow","top_row","rightCol","right_col","bottomRow","bottom_row","dispayFaceBox","setState","loadUser","onInputChange","event","target","value","onButtonSubmit","state","fetch","method","headers","body","JSON","stringify","then","response","json","count","Object","assign","catch","error","onRouteChange","render","className","children","color","num","type","bg"],"sources":["C:/webdev/smart-brain/src/App.js"],"sourcesContent":["import React , {Component} from 'react';\nimport Navigation from './components/Navigation/Navigation';\nimport FaceRecognition from './components/FaceRecognition/FaceRecognition';\nimport Logo from './components/Logo/Logo';\nimport ImageLinkForm from './components/ImangeLinkForm/ImageLinkForm';\nimport Rank from './components/Rank/Rank';\nimport './App.css';\nimport ParticlesBg from 'particles-bg'\nimport Signin from './components/Signin/Signin';\nimport Register from './components/Register/Register';\n\n\nconst initialState = {\n  input:\"\",\n  imageUrl: \"\",\n  box:{},\n  route:\"signin\",\n  isSignedIn: false,\n  user: {\n    id:\"\",\n    name: \"\",\n    email: \"\",\n    entries: 0,\n    joined: \"\"\n  }\n}\n\nclass App extends Component {\n  constructor(){\n    super()\n    this.state = initialState\n  } \n\n  calculateFaceLocation = (data) =>{\n    const clarifaiFace = data.outputs[0].data.regions[0].region_info.bounding_box\n    console.log(clarifaiFace)\n    const image = document.getElementById(\"inputimage\");\n    const width = Number(image.width);\n    const height = Number(image.height);\n    return{\n      leftCol:clarifaiFace.left_col * width,\n      topRow: clarifaiFace.top_row * height,\n      rightCol: width - (clarifaiFace.right_col *width),\n      bottomRow: height - (clarifaiFace.bottom_row*height)\n    }\n     \n  }\n\n  dispayFaceBox = (box) =>{\n    this.setState({box: box})\n  }\n  loadUser =(user) =>{\n    this.setState({\n      user:{\n        id: user.id,\n        name: user.name,\n        email: user.email,\n        entries: user.entries,\n        joined: user.joined\n    },imageUrl: \"\"\n  })\n  }\n\n  onInputChange=(event)=>{\n    this.setState({input: event.target.value})\n  }\n  onButtonSubmit = () =>{\n    this.setState({imageUrl:this.state.input})\n    fetch('https://smart-brain-api-329v.onrender.com/imageurl', {\n            method: 'post',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify({\n              input: this.state.input\n            })\n          })\n    .then(response =>response.json())\n    .then(response => {\n      if (response) {\n        fetch('https://smart-brain-api-329v.onrender.com/image', {\n          method: 'put',\n          headers: {'Content-Type': 'application/json'},\n          body: JSON.stringify({\n          id: this.state.user.id\n          })\n        })\n          .then(response =>response.json())\n          .then(count =>{\n            this.setState(Object.assign(this.state.user,{entries:count}))\n          })\n          .catch(console.log)\n        }\n        this.dispayFaceBox(this.calculateFaceLocation(response))\n      })\n      .catch(error => console.log('error', error));\n  }\n  onRouteChange =(route) =>{\n    if(route === \"signout\"){\n      this.setState(initialState)\n    }else if (route === \"home\"){\n      this.setState({isSignedIn:true})\n    }\n    this.setState({route:route})\n  }\n\n  render(){\n    const {isSignedIn,imageUrl,route,box} = this.state\n    return (\n      <div className=\"App\">\n        <ParticlesBg className=\"particles\" color='#ffffff' num={120} type=\"cobweb\" bg={true} />\n        <Navigation isSignedIn={isSignedIn} onRouteChange={this.onRouteChange} />\n        {route === \"home\" \n        ?<div>\n          <Logo />\n          <Rank name = {this.state.user.name} entries={this.state.user.entries}/>\n          <ImageLinkForm \n            onInputChange = {this.onInputChange}\n            onButtonSubmit={this.onButtonSubmit}\n          />\n          <FaceRecognition box = {box} imageUrl={imageUrl}/>\n        </div>\n        :(\n          route === \"signin\"\n            ?<Signin onRouteChange={this.onRouteChange} loadUser={this.loadUser}/>\n            :<Register loadUser={this.loadUser} onRouteChange={this.onRouteChange} />\n        )\n    }\n      </div>\n    );\n  }\n\n}\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}